{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/uni/luckyDraw/pages/index/draw.vue?c975","webpack:///D:/uni/luckyDraw/pages/index/draw.vue?25f1","webpack:///D:/uni/luckyDraw/pages/index/draw.vue?17d1","uni-app:///pages/index/draw.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,0F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACwM;AACxM,gBAAgB,6MAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAA6wB,CAAgB,8wBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0CjyB;AACA,gBADA;AAEA,MAFA,kBAEA;AACA;AACA,gBADA;AAEA,eAFA,EAEA;AACA;AACA,oCADA;AAEA,qBAFA;;AAIA;AACA,oCADA;AAEA,qBAFA,EAJA;;AAQA;AACA,oCADA;AAEA,qBAFA,EARA;;AAYA;AACA,oCADA;AAEA,qBAFA,EAZA;;AAgBA;AACA,oCADA;AAEA,qBAFA,EAhBA;;AAoBA;AACA,oCADA;AAEA,sBAFA,EApBA;;AAwBA;AACA,oCADA;AAEA,qBAFA,EAxBA;;AA4BA;AACA,oCADA;AAEA,qBAFA,EA5BA,CAHA;;AAmCA;AACA,eApCA,EAoCA;AACA,cArCA,EAqCA;AACA,cAtCA,EAsCA;AACA,gBAvCA,EAuCA;AACA,cAxCA,EAwCA;AACA,eAzCA,EAyCA;AACA,eA1CA,EA0CA;AACA,iBA3CA;AA4CA,sBA5CA,CA4CA;AA5CA;AA8CA,GAjDA;AAkDA;AACA,gBADA,0BACA;AACA;AACA;AACA;AACA;AACA,KANA;AAOA;AACA,aARA,uBAQA;AACA,sBADA,CACA;AACA,qBAFA,CAEA;AACA;AACA;AACA,iCADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,GAFA;AAGA,OAVA,MAUA;AACA;AACA,2BADA,CACA;AACA,SAFA,MAEA;AACA,2DADA,CACA;;AAEA,6BAHA,CAGA;AACA;AACA;AACA;AACA,SAPA,MAOA;AACA,SADA,GACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3CA;AA4CA;AACA,WA7CA,qBA6CA;AACA,6BADA,CACA;AACA,6BAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,KArDA;AAsDA,eAtDA,yBAsDA;AACA;AACA,mCADA;;AAGA,KA1DA,EAlDA,E","file":"pages/index/draw.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/draw.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./draw.vue?vue&type=template&id=0058291a&\"\nvar renderjs\nimport script from \"./draw.vue?vue&type=script&lang=js&\"\nexport * from \"./draw.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/draw.vue\"\nexport default component.exports","export * from \"-!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./draw.vue?vue&type=template&id=0058291a&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showToast = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./draw.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./draw.vue?vue&type=script&lang=js&\"","<template>\r\n\t<div class=\"lottery-box\" id=\"app\">\r\n\t\t<h1 class=\"title\">九宫格抽奖</h1>\r\n\t\t<div class=\"lottery\">\r\n\t\t\t<div class=\"lottery-item\">\r\n\t\t\t\t<div class=\"lottery-start\">\r\n\t\t\t\t\t<div class=\"box gray\" v-if=\"isStart===0\">\r\n\t\t\t\t\t\t<p>活动未开始</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"box\" @click=\"startLottery\" v-if=\"isStart===1\">\r\n\t\t\t\t\t\t<p><b>抽奖</b></p>\r\n\t\t\t\t\t\t<p>消耗{{score}}积分</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"box gray\" v-if=\"isStart===2\">\r\n\t\t\t\t\t\t<p>活动已过期</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li v-for=\"(item,i) in list\" :class=\"i==index?'on':''\">\r\n\t\t\t\t\t\t<div class=\"box\">\r\n\t\t\t\t\t\t\t<p><img :src=\"item.img\" alt=\"\"></p>\r\n\t\t\t\t\t\t\t<p>{{item.title}}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<view class=\"history\" @click=\"linkhistory\">中奖历史</view>\r\n\t\t<!-- 中奖弹窗 -->\r\n\t\t<div class=\"mask\" v-if=\"showToast\">\r\n\t\t\t<div class=\"blin\"></div>\r\n\t\t</div>\r\n\t\t<div class=\"lottery-alert\" v-if=\"showToast\">\r\n\t\t\t<h1>恭喜您</h1>\r\n\t\t\t<p><img src=\"/static/images/j2.png\" alt=\"\"></p>\r\n\t\t\t<h2>获得{{list[index].title}}</h2>\r\n\t\t\t<div class=\"btnsave\" @click=\"showToast=false\">确定</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tname: 'raffle',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisStart: 1,\r\n\t\t\t\tscore: 10, //消耗积分\r\n\t\t\t\tlist: [{\r\n\t\t\t\t\t\timg: '/static/images/j1.png',\r\n\t\t\t\t\t\ttitle: '谢谢参与'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\timg: '/static/images/j2.png',\r\n\t\t\t\t\t\ttitle: '美女一个'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\timg: '/static/images/j1.png',\r\n\t\t\t\t\t\ttitle: '宝马一辆'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\timg: '/static/images/j2.png',\r\n\t\t\t\t\t\ttitle: '单车一辆'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\timg: '/static/images/j1.png',\r\n\t\t\t\t\t\ttitle: '鸡蛋一蓝'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\timg: '/static/images/j2.png',\r\n\t\t\t\t\t\ttitle: '500红包'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\timg: '/static/images/j1.png',\r\n\t\t\t\t\t\ttitle: '靓号一个'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\timg: '/static/images/j2.png',\r\n\t\t\t\t\t\ttitle: '鲜花一蓝'\r\n\t\t\t\t\t}\r\n\t\t\t\t], //奖品1-9     \r\n\t\t\t\tindex: -1, // 当前转动到哪个位置，起点位置\r\n\t\t\t\tcount: 8, // 总共有多少个位置\r\n\t\t\t\ttimer: 0, // 每次转动定时器\r\n\t\t\t\tspeed: 200, // 初始转动速度\r\n\t\t\t\ttimes: 0, // 转动次数\r\n\t\t\t\tcycle: 50, // 转动基本次数：即至少需要转动多少次再进入抽奖环节\r\n\t\t\t\tprize: -1, // 中奖位置\r\n\t\t\t\tclick: true,\r\n\t\t\t\tshowToast: false, //显示中奖弹窗       \r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tstartLottery() {\r\n\t\t\t\tif (!this.click) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.startRoll();\r\n\t\t\t},\r\n\t\t\t// 开始转动\r\n\t\t\tstartRoll() {\r\n\t\t\t\tthis.times += 1 // 转动次数\r\n\t\t\t\tthis.oneRoll() // 转动过程调用的每一次转动方法，这里是第一次调用初始化 \r\n\t\t\t\t// 如果当前转动次数达到要求 && 目前转到的位置是中奖位置\r\n\t\t\t\tif (this.times > this.cycle + 10 && this.prize === this.index) {\r\n\t\t\t\t\tclearTimeout(this.timer) // 清除转动定时器，停止转动\r\n\t\t\t\t\tthis.prize = -1\r\n\t\t\t\t\tthis.times = 0\r\n\t\t\t\t\tthis.speed = 200\r\n\t\t\t\t\tthis.click = true;\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tsetTimeout(res => {\r\n\t\t\t\t\t\tthat.showToast = true;\r\n\t\t\t\t\t}, 500)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.times < this.cycle) {\r\n\t\t\t\t\t\tthis.speed -= 10 // 加快转动速度\r\n\t\t\t\t\t} else if (this.times === this.cycle) {\r\n\t\t\t\t\t\tconst index = parseInt(Math.random() * 10, 0) || 0; // 随机获得一个中奖位置\r\n\r\n\t\t\t\t\t\tthis.prize = index; //中奖位置,可由后台返回 \r\n\t\t\t\t\t\tif (this.prize > 7) {\r\n\t\t\t\t\t\t\tthis.prize = 7\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (this.times > this.cycle + 10 && ((this.prize === 0 && this.index === 7) || this.prize === this.index +\r\n\t\t\t\t\t\t\t1)) {\r\n\t\t\t\t\t\tthis.speed += 110\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.speed += 20\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.speed < 40) {\r\n\t\t\t\t\t\tthis.speed = 40\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.timer = setTimeout(this.startRoll, this.speed)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 每一次转动\r\n\t\t\toneRoll() {\r\n\t\t\t\tlet index = this.index // 当前转动到哪个位置\r\n\t\t\t\tconst count = this.count // 总共有多少个位置\r\n\t\t\t\tindex += 1\r\n\t\t\t\tif (index > count - 1) {\r\n\t\t\t\t\tindex = 0\r\n\t\t\t\t}\r\n\t\t\t\tthis.index = index\r\n\t\t\t},\r\n\t\t\tlinkhistory() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/index/history'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\n"],"sourceRoot":""}